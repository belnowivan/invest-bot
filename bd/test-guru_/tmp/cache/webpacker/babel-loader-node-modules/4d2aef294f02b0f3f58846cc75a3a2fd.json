{"ast":null,"code":"/* eslint-disable no-undef */\nvar formattedTime = function formattedTime(rawMinutes) {\n  var hours = Math.floor(rawMinutes / 60);\n  var formattedHours = hours >= 10 ? hours : \"0\".concat(hours);\n  var minutes = rawMinutes % 60;\n  var formattedMinutes = minutes >= 10 ? minutes : \"0\".concat(minutes);\n  return \"\".concat(formattedHours, \":\").concat(formattedMinutes);\n};\n\ndocument.addEventListener('turbolinks:load', function () {\n  var leftTimeElement = document.querySelector('[data-left-time]');\n\n  if (leftTimeElement) {\n    var time = Math.round(Number(leftTimeElement.dataset.leftTime));\n    leftTimeElement.innerHTML = \"Time left \".concat(formattedTime(time));\n    timerId = setInterval(function () {\n      time -= 1;\n\n      if (!leftTimeElement) {\n        clearInterval(timerId);\n        return;\n      }\n\n      if (time <= 10) {\n        document.querySelector('form').submit();\n        clearInterval(timerId);\n      }\n\n      leftTimeElement.innerHTML = \"Time left \".concat(formattedTime(time));\n    }, 1000);\n  }\n});","map":{"version":3,"sources":["/home/ivan/bd/test-guru_/app/javascript/utilities/timer.js"],"names":["formattedTime","rawMinutes","hours","Math","floor","formattedHours","minutes","formattedMinutes","document","addEventListener","leftTimeElement","querySelector","time","round","Number","dataset","leftTime","innerHTML","timerId","setInterval","clearInterval","submit"],"mappings":"AAAA;AACA,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,CAACC,UAAD,EAAgB;AACpC,MAAMC,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWH,UAAU,GAAG,EAAxB,CAAd;AACA,MAAMI,cAAc,GAAGH,KAAK,IAAI,EAAT,GAAcA,KAAd,cAA0BA,KAA1B,CAAvB;AAEA,MAAMI,OAAO,GAAGL,UAAU,GAAG,EAA7B;AACA,MAAMM,gBAAgB,GAAGD,OAAO,IAAI,EAAX,GAAgBA,OAAhB,cAA8BA,OAA9B,CAAzB;AAEA,mBAAUD,cAAV,cAA4BE,gBAA5B;AACD,CARD;;AAUAC,QAAQ,CAACC,gBAAT,CAA0B,iBAA1B,EAA6C,YAAM;AACjD,MAAMC,eAAe,GAAGF,QAAQ,CAACG,aAAT,CAAuB,kBAAvB,CAAxB;;AAEA,MAAID,eAAJ,EAAqB;AACnB,QAAIE,IAAI,GAAGT,IAAI,CAACU,KAAL,CAAWC,MAAM,CAACJ,eAAe,CAACK,OAAhB,CAAwBC,QAAzB,CAAjB,CAAX;AACAN,IAAAA,eAAe,CAACO,SAAhB,uBAAyCjB,aAAa,CAACY,IAAD,CAAtD;AAEAM,IAAAA,OAAO,GAAGC,WAAW,CAAC,YAAM;AAC1BP,MAAAA,IAAI,IAAI,CAAR;;AACA,UAAI,CAACF,eAAL,EAAsB;AACpBU,QAAAA,aAAa,CAACF,OAAD,CAAb;AACA;AACD;;AACD,UAAIN,IAAI,IAAI,EAAZ,EAAgB;AACdJ,QAAAA,QAAQ,CAACG,aAAT,CAAuB,MAAvB,EAA+BU,MAA/B;AACAD,QAAAA,aAAa,CAACF,OAAD,CAAb;AACD;;AACDR,MAAAA,eAAe,CAACO,SAAhB,uBAAyCjB,aAAa,CAACY,IAAD,CAAtD;AACD,KAXoB,EAWlB,IAXkB,CAArB;AAYD;AACF,CApBD","sourcesContent":["/* eslint-disable no-undef */\nconst formattedTime = (rawMinutes) => {\n  const hours = Math.floor(rawMinutes / 60);\n  const formattedHours = hours >= 10 ? hours : `0${hours}`;\n\n  const minutes = rawMinutes % 60;\n  const formattedMinutes = minutes >= 10 ? minutes : `0${minutes}`;\n\n  return `${formattedHours}:${formattedMinutes}`;\n};\n\ndocument.addEventListener('turbolinks:load', () => {\n  const leftTimeElement = document.querySelector('[data-left-time]');\n\n  if (leftTimeElement) {\n    let time = Math.round(Number(leftTimeElement.dataset.leftTime));\n    leftTimeElement.innerHTML = `Time left ${formattedTime(time)}`;\n\n    timerId = setInterval(() => {\n      time -= 1;\n      if (!leftTimeElement) {\n        clearInterval(timerId);\n        return;\n      }\n      if (time <= 10) {\n        document.querySelector('form').submit();\n        clearInterval(timerId);\n      }\n      leftTimeElement.innerHTML = `Time left ${formattedTime(time)}`;\n    }, 1000);\n  }\n});\n"]},"metadata":{},"sourceType":"module"}